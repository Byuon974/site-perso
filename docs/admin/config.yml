# =============================================================================
# DECAP CMS - Configuration (OPTIONNEL)
# =============================================================================
# Ce CMS est OPTIONNEL. Tu peux aussi √©diter directement sur GitHub.com !
# 
# Pour utiliser ce CMS en production, tu dois :
# 1. Cr√©er une OAuth App sur GitHub (Settings > Developer settings > OAuth Apps)
# 2. H√©berger un petit serveur OAuth (voir https://github.com/vencax/netlify-cms-github-oauth-provider)
#
# Alternative simple : √©dite tes fichiers .md directement sur GitHub.com
# =============================================================================

# MODE D√âVELOPPEMENT LOCAL
# Lance avec : npx decap-server
local_backend: true

# MODE PRODUCTION GITHUB (n√©cessite configuration OAuth)
# backend:
#   name: github
#   repo: ton-username/ton-repo
#   branch: main

# -----------------------------------------------------------------------------
# PARAM√àTRES G√âN√âRAUX
# -----------------------------------------------------------------------------

# Dossier des m√©dias (images upload√©es)
media_folder: "static/images/uploads"
public_folder: "/images/uploads"

# Langue de l'interface
locale: "fr"

# Slug (URL) des articles
slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "-"

# -----------------------------------------------------------------------------
# COLLECTIONS
# -----------------------------------------------------------------------------

collections:

  # ===========================================================================
  # BLOG
  # ===========================================================================
  - name: "blog"
    label: "üìù Articles de blog"
    label_singular: "Article"
    folder: "content/blog"
    create: true
    slug: "{{slug}}"
    preview_path: "blog/{{slug}}"
    sortable_fields: ["date", "title"]
    view_groups:
      - label: "Ann√©e"
        field: "date"
        pattern: \d{4}
    fields:
      - label: "Titre"
        name: "title"
        widget: "string"
        required: true

      - label: "Date de publication"
        name: "date"
        widget: "datetime"
        format: "YYYY-MM-DD"
        date_format: "DD/MM/YYYY"
        time_format: false
        required: true

      - label: "Description"
        name: "description"
        widget: "text"
        required: true
        hint: "R√©sum√© affich√© dans la liste et pour le SEO (150-160 caract√®res)"

      - label: "Tags"
        name: "tags"
        widget: "list"
        required: false
        hint: "S√©parer par des virgules"

      - label: "Brouillon"
        name: "draft"
        widget: "boolean"
        default: false
        required: false

      - label: "Image de couverture"
        name: "cover"
        widget: "image"
        required: false
        hint: "Image affich√©e en haut de l'article"

      - label: "Contenu"
        name: "body"
        widget: "markdown"
        required: true

  # ===========================================================================
  # NOTES
  # ===========================================================================
  - name: "notes"
    label: "üìí Notes techniques"
    label_singular: "Note"
    folder: "content/notes"
    create: true
    slug: "{{slug}}"
    preview_path: "notes/{{slug}}"
    sortable_fields: ["updated", "title"]
    fields:
      - label: "Titre"
        name: "title"
        widget: "string"
        required: true

      - label: "Description"
        name: "description"
        widget: "text"
        required: true
        hint: "R√©sum√© court de la note"

      - label: "Tags"
        name: "tags"
        widget: "list"
        required: true
        hint: "Ex: git, cli, devops"

      - label: "Derni√®re mise √† jour"
        name: "updated"
        widget: "datetime"
        format: "YYYY-MM-DD"
        date_format: "DD/MM/YYYY"
        time_format: false
        required: true

      - label: "Contenu"
        name: "body"
        widget: "markdown"
        required: true

  # ===========================================================================
  # PROJETS
  # ===========================================================================
  - name: "projets"
    label: "üöÄ Projets"
    label_singular: "Projet"
    folder: "content/projets"
    create: true
    slug: "{{slug}}"
    preview_path: "projets/{{slug}}"
    fields:
      - label: "Titre du projet"
        name: "title"
        widget: "string"
        required: true

      - label: "Description courte"
        name: "description"
        widget: "text"
        required: true
        hint: "Une phrase r√©sumant le projet"

      - label: "Date"
        name: "date"
        widget: "datetime"
        format: "YYYY-MM-DD"
        date_format: "DD/MM/YYYY"
        time_format: false
        required: true

      - label: "Technologies"
        name: "tags"
        widget: "list"
        required: true
        hint: "Ex: React, TypeScript, Tailwind"

      - label: "Vid√©o de d√©mo"
        name: "video"
        widget: "file"
        required: false
        hint: "Vid√©o MP4 ou WebM"
        media_library:
          config:
            multiple: false

      - label: "Image de couverture"
        name: "image"
        widget: "image"
        required: false
        hint: "Si pas de vid√©o"

      - label: "Lien d√©mo live"
        name: "demo"
        widget: "string"
        required: false
        hint: "URL de la d√©mo en ligne"

      - label: "Lien GitHub"
        name: "repo"
        widget: "string"
        required: false
        hint: "URL du repository"

      - label: "Contenu d√©taill√©"
        name: "body"
        widget: "markdown"
        required: true

  # ===========================================================================
  # PAGE √Ä PROPOS
  # ===========================================================================
  - name: "pages"
    label: "üìÑ Pages"
    files:
      - name: "about"
        label: "Page √Ä propos"
        file: "content/about/_index.md"
        fields:
          - label: "Titre"
            name: "title"
            widget: "string"
            default: "√Ä propos"

          - label: "Description SEO"
            name: "description"
            widget: "text"
            required: false

          - label: "Contenu"
            name: "body"
            widget: "markdown"
            hint: "Tu peux utiliser le HTML existant ou r√©√©crire en Markdown"

  # ===========================================================================
  # CONFIGURATION DU SITE
  # ===========================================================================
  - name: "settings"
    label: "‚öôÔ∏è Param√®tres"
    files:
      - name: "config"
        label: "Configuration g√©n√©rale"
        file: "config.yaml"
        fields:
          - label: "URL du site"
            name: "baseURL"
            widget: "string"

          - label: "Titre du site"
            name: "title"
            widget: "string"

          - label: "Langue"
            name: "languageCode"
            widget: "string"
            default: "fr-fr"

          - label: "Param√®tres"
            name: "params"
            widget: "object"
            fields:
              - label: "Auteur"
                name: "author"
                widget: "string"

              - label: "Description"
                name: "description"
                widget: "text"

              - label: "Email"
                name: "email"
                widget: "string"
